# Repository Guidelines

## Communication

- ユーザとのコミュニケーションには日本語を用いてください
- ドキュメントは日本語で書いてください

## Project Structure & Module Organization

The repository currently centers on metawork assets that support feature planning. Automation lives in `.specify/scripts/bash/`, organized per task (e.g., `create-new-feature.sh`, `update-agent-context.sh`). Contributor-facing templates reside in `.specify/templates/` and drive spec authoring. Prompt scaffolding for the Codex agent is stored in `.codex/prompts/`. Feature specifications generated by the scripts are saved under `specs/NNN-short-slug/` (create this directory if it does not yet exist) with a single `spec.md` authored from the template.

## Build, Test, and Development Commands

- `bash .specify/scripts/bash/check-prerequisites.sh`: verify local tooling (git, jq, shell) before starting work.
- `bash .specify/scripts/bash/create-new-feature.sh "Describe capability"`: spin up a numbered spec directory and branch; pass `--json` when automations need machine-readable output.
- `bash .specify/scripts/bash/update-agent-context.sh`: refresh agent context files after editing specs or templates.
- `bash .specify/scripts/bash/setup-plan.sh`: bootstrap a plan file when breaking a large feature into tasks.
  Run commands from the repository root so path assumptions remain valid.

## Coding Style & Naming Conventions

Shell scripts should keep `set -e` (add `-u -o pipefail` when extending) and follow lowercase-with-hyphens filenames. For specs and documentation, prefer Markdown with sentence-case headings and numbered requirement IDs (e.g., `FR-001`). Name spec folders `NNN-key-phrase`, where `NNN` is zero-padded. Keep environment files such as `.codex/auth.json` out of commits unless intentionally updating shared credentials.

## Testing Guidelines

There is no automated test harness yet. Treat the review checklist in `.specify/templates/spec-template.md` as the acceptance gate: ensure every item is satisfied or deliberately flagged. When modifying scripts, run them locally and capture example output in the PR description; add ad-hoc validations (e.g., `shellcheck`) if available.

## Commit & Pull Request Guidelines

Write imperative, Conventional Commit-style messages (`docs: refresh spec template`). When a change touches a spec, mention its `NNN-key-phrase` identifier in the subject or body. Pull requests should include: summary of the workflow tested, relevant command output or screenshots, and links to any tracked issues. Keep PRs focused—prefer follow-up branches for unrelated template or script tweaks.

## Security & Configuration Tips

Local `.codex` files may contain tokens; never paste secrets into issues or specs. If credentials must change, rotate them and document the update privately rather than in the repository history.
