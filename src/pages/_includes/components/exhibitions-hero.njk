{% macro exhibitionsHero(exhibition, heroMedia, heading='', copy='', variant='index') %}
{% set resolvedHeading = heading or (variant == 'detail' and exhibition.title) or 'Exhibition' %}
{% set resolvedCopy = copy or exhibition.summary %}
<section
  class="relative flex flex-col gap-10 overflow-hidden bg-neutral-900 text-brand-light lg:flex-row lg:items-center lg:justify-between lg:gap-16"
  data-testid="{{ variant == 'detail' and 'exhibition-hero' or 'exhibitions-hero' }}"
>
  <div class="relative z-10 flex flex-col gap-6 px-6 py-16 md:px-10 lg:w-1/2">
    <span class="inline-flex items-center gap-2 text-sm uppercase tracking-[0.3em] text-brand">
      Exhibition
    </span>
    <h1 class="text-4xl font-bold leading-tight md:text-5xl">{{ resolvedHeading }}</h1>

    {% if variant != 'detail' %}
      <p class="max-w-xl text-lg text-neutral-100" data-testid="hero-copy">{{ resolvedCopy }}</p>
    {% else %}
      <div class="flex flex-wrap items-center gap-4 text-sm font-medium text-neutral-100">
        <span class="badge-outline bg-white/10 px-4 py-1" data-testid="exhibition-status">
          {{ exhibition.statusLabel }}
        </span>
        <span data-testid="exhibition-duration">{{ exhibition.durationLabel }}</span>
        <span data-testid="exhibition-venue">{{ exhibition.venue }}</span>
      </div>
    {% endif %}

    <div class="flex flex-col gap-3 sm:flex-row sm:items-center">
      {% if exhibition.ctaUrl %}
        <a class="btn-primary" href="{{ exhibition.ctaUrl }}" aria-label="{{ exhibition.ctaLabel }}" data-testid="{{ variant == 'detail' and 'exhibition-cta' or 'hero-cta' }}">
          {{ exhibition.ctaLabel }}
        </a>
      {% endif %}
      {% if variant == 'detail' and exhibition.overviewUrl %}
        <a
          class="inline-flex items-center gap-2 text-sm font-semibold text-brand"
          href="{{ exhibition.overviewUrl }}"
          target="_blank"
          rel="noreferrer"
        >
          公式サイトを見る
          <span aria-hidden="true">→</span>
        </a>
      {% endif %}
    </div>
  </div>

  <div class="relative lg:w-1/2">
    {% if heroMedia and heroMedia.variant == 'image' %}
      <img
        src="{{ heroMedia.src }}"
        alt="{{ heroMedia.alt }}"
        class="h-full w-full object-cover"
        loading="lazy"
        data-testid="exhibition-cover"
      />
    {% else %}
      <div
        class="relative flex h-full min-h-[320px] items-center justify-center text-6xl font-bold tracking-widest text-brand-light {{ heroMedia.backgroundClass if heroMedia and heroMedia.backgroundClass else '' }}"
        style="background-image: url('/assets/exhibition-placeholder.svg'); background-size: cover; background-position: center;"
        data-testid="exhibition-placeholder"
      >
        {{ heroMedia and heroMedia.label or (exhibition.title | slice(0, 2)) }}
      </div>
    {% endif %}
    <div class="absolute inset-0 bg-gradient-to-tr from-neutral-900/40 via-neutral-900/10 to-brand/30"></div>
  </div>
</section>
{% endmacro %}
